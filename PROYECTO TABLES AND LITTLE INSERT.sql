create table clientes(
ID_CLIENTE NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
NOMBRE VARCHAR(50) NOT NULL,
PRIMER_APELLIDO VARCHAR(50) NOT NULL,
SEGUNDO_APELLIDO VARCHAR(50) NOT NULL,
CORREO VARCHAR(50) NOT NULL,
NUMERO_TELEFONO VARCHAR(15) NOT NULL,
PRIMARY KEY (ID_CLIENTE));

create table estado(
ID_ESTADO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
DESCRIPCION VARCHAR(100) NOT NULL,
CODEC_ESTADO VARCHAR(50) NOT NULL,
PRIMARY KEY (ID_ESTADO));

CREATE TABLE USUARIO(
ID_USUARIO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
USER_NAME VARCHAR(25) NOT NULL,
PASS VARCHAR(25) NOT NULL,
PRIMARY KEY (ID_USUARIO));

CREATE TABLE REPORTE_TECNICO(
ID_REPORTE NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
PROBLEMA_DIAGNOSTICO VARCHAR(100) NOT NULL,
DESCRIPCION VARCHAR(100) NOT NULL,
COSTO NUMBER NOT NULL,
PRIMARY KEY (ID_REPORTE));

create table equipos(
ID_EQUIPO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
ID_REPORTE INT NOT NULL,
ID_ESTADO INT NOT NULL,
NUMERO_SERIE VARCHAR(25) NOT NULL,
MODELO VARCHAR(25) NOT NULL,
DESCRIPCION_PROBLEMA VARCHAR(100) NOT NULL,
DESCRIPCION_ESTADO VARCHAR(100) NOT NULL,
ACCESORIOS VARCHAR(50) NOT NULL,
PRIMARY KEY (ID_EQUIPO),
FOREIGN KEY (ID_ESTADO) REFERENCES ESTADO(ID_ESTADO),
FOREIGN KEY (ID_REPORTE) REFERENCES REPORTE_TECNICO(ID_REPORTE));

CREATE TABLE COLA(
ID_COLA NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
ID_EQUIPO INT NOT NULL,
GUIA_COLA VARCHAR(25) NOT NULL,
PRIMARY KEY (ID_COLA),
FOREIGN KEY (ID_EQUIPO) REFERENCES EQUIPOS(ID_EQUIPO));

CREATE TABLE COLA(
ID_COLA NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
ID_EQUIPO INT NOT NULL,
GUIA_COLA VARCHAR(25) NOT NULL,
PRIMARY KEY (ID_COLA),
FOREIGN KEY (ID_EQUIPO) REFERENCES EQUIPOS(ID_EQUIPO));

CREATE TABLE PRODUCTOS_USADOS(
ID_PRODUCTOU NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
CODE VARCHAR(50) NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
CANRIDAD_STOCK INT NOT NULL,
ACCESORIOS VARCHAR(50) NOT NULL,
ESTADO VARCHAR(50) NOT NULL,
PRECIO NUMBER(10) NOT NULL,
PRIMARY KEY (ID_PRODUCTOU));

CREATE TABLE PRODUCTOS_NUEVOS(
ID_PRODUCTO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
CODE VARCHAR(50) NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
CANRIDAD_STOCK INT NOT NULL,
PRECIO NUMBER(10) NOT NULL,
PRIMARY KEY (ID_PRODUCTO));

CREATE TABLE REPUESTOS_NUEVOS(
ID_REPUESTON NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
CODE VARCHAR(50) NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
CANRIDAD_STOCK INT NOT NULL,
PRECIO NUMBER(10) NOT NULL,
PRIMARY KEY (ID_REPUESTON));

CREATE TABLE REPUESTOS_USADOS(
ID_REPUESTOU NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
CODE VARCHAR(50) NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
CANRIDAD_STOCK INT NOT NULL,
ESTADO VARCHAR(50) NOT NULL,
PRECIO NUMBER(10) NOT NULL,
PRIMARY KEY (ID_REPUESTOU));

CREATE TABLE TALLER(
ID_TALLER NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
ID_EQUIPO INT NOT NULL,
ID_CLIENTE INT NOT NULL,
PRIMARY KEY (ID_TALLER),
FOREIGN KEY (ID_EQUIPO) REFERENCES EQUIPOS(ID_EQUIPO),
FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES(ID_CLIENTE));

CREATE TABLE INVENTARIO(
ID_INVENTARIO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
ID_REPUESTON INT  NOT NULL,
ID_REPUESTOU INT  NOT NULL,
ID_PRODUCTO INT  NOT NULL,
ID_PRODUCTOU INT  NOT NULL,
PRIMARY KEY (ID_INVENTARIO),
FOREIGN KEY (ID_REPUESTON) REFERENCES REPUESTOS_NUEVOS(ID_REPUESTON),
FOREIGN KEY (ID_REPUESTOU) REFERENCES REPUESTOS_USADOS(ID_REPUESTOU),
FOREIGN KEY (ID_PRODUCTOU) REFERENCES PRODUCTOS_USADOS(ID_PRODUCTOU),
FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTOS_NUEVOS(ID_PRODUCTO));

CREATE TABLE FACTURA(
ID_FACTURA NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
TOTAL NUMBER NOT NULL,
IVA NUMBER NOT NULL,
COSTO NUMBER  NOT NULL,
PRIMARY KEY (ID_FACTURA));

CREATE TABLE TIENDA(
ID_TIENDA NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
ID_TALLER INT NOT NULL,
ID_INVENTARIO INT NOT NULL,
ID_CLIENTE INT NOT NULL,
ID_FACTURA INT NOT NULL,
PRIMARY KEY (ID_TIENDA),
FOREIGN KEY (ID_TALLER) REFERENCES TALLER(ID_TALLER),
FOREIGN KEY (ID_INVENTARIO) REFERENCES INVENTARIO(ID_INVENTARIO),
FOREIGN KEY (ID_FACTURA) REFERENCES FACTURA(ID_FACTURA),
FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES(ID_CLIENTE));








insert INTO clientes(NOMBRE,PRIMER_APELLIDO,SEGUNDO_APELLIDO,CORREO,NUMERO_TELEFONO) values
	('Grettel','Gamboa','Garza','GRE.GG@gmail.com','8080-8080');

insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('En tienda (Esperando Paso al tecnico)','ESTAD_0001');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('En Servicio Tecnico (A la espera de revisión o de realizar el trabajo)','ESTAD_0002');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('En Servicio Tecnico, En proseso de Diagnostico final','ESTAD_0003');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('En Servicio Tecnico, Con Diagnistico Final Listo','ESTAD_0004');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('En Servicio Tecnico, En proseso de la realisacion del trabajo','ESTAD_0005');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('En Servicio Tecnico, Trabajo Listo, Alistando para entrega','ESTAD_0006');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('En Servicio Tecnico, Listo para retiro','ESTAD_0007');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('En Tienda, listo para retiro','ESTAD_0008');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('Articulo Retirado (Proseso finalizado)','ESTAD_0009');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('Articulo Pronto a vencer (1 mes en almacen, Tienda)','ESTAD_0010');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('Articulo Pronto a vencer (1 mes en almacen, Servicio Tecnico)','ESTAD_0011');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('Articulo Pronto a remate o destruccion (1 mes y 15 dias en almacen, Tienda)','ESTAD_0012');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('Articulo Pronto a remate o destruccion (1 mes y 15 dias en almacen, Servicio Tecnico)','ESTAD_0012');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('Articulo Expirado, listo para remate o destruccion (2 meses en almacen, Tienda)','ESTAD_0014');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('Articulo Expirado, listo para remate o destruccion (2 meses en almacen, Servicio Tecnico)','ESTAD_0014');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('Articulo Expirado, Proseso finalizado (Articulo supero los 2 meses en Almacen, Tienda)','ESTAD_0016');
insert INTO estado(DESCRIPCION, CODEC_ESTADO) values
    ('Articulo Expirado, Proseso finalizado (Articulo supero los 2 meses en Almacen, Servicio Tecnico)','ESTAD_0016');
    
insert INTO USUARIO(USER_NAME,PASS) values
	('GREGAGA8080','123456789');
    
insert INTO REPORTE_TECNICO(PROBLEMA_DIAGNOSTICO,DESCRIPCION,COSTO) values
	('Problema en pantalla','La connsola cuenta con un daño en la pantalla por defecto de fabrica',34500);
    
insert INTO equipos(ID_REPORTE,ID_ESTADO,NUMERO_SERIE,MODELO,DESCRIPCION_PROBLEMA,DESCRIPCION_ESTADO,ACCESORIOS) values
	(1,1,'XAW10003631397','NINTENDO SWITCH V1','No da imagen','Tiene un raspon en la parte posterior','NO');

INSERT INTO PRODUCTOS_USADOS(CODE,NOMBRE,CANRIDAD_STOCK,ACCESORIOS,ESTADO,PRECIO) VALUES
	('NINT-GC-020','GAME CUBE - V1',3,'NO','COMO NUEVO',65000);

INSERT INTO PRODUCTOS_NUEVOS(CODE,NOMBRE,CANRIDAD_STOCK,PRECIO) VALUES
	('NINT-NS-001','NINTENDO SWITCH OLED',6,300000);

INSERT INTO REPUESTOS_NUEVOS(CODE,NOMBRE,CANRIDAD_STOCK,PRECIO) VALUES
	('NINT-RPN-001','PANTALLA NINTENDO SWITCH V1/V2',10,24500);

INSERT INTO REPUESTOS_USADOS(CODE,NOMBRE,CANRIDAD_STOCK,ESTADO,PRECIO) VALUES
	('NINT-RPU-001','PANTALLA NINTENDO SWITCH V1/V2',2,'COMO NUEVAS',18500);

INSERT INTO FACTURA(TOTAL,IVA,COSTO) VALUES
	(38985,4485,34500);

INSERT INTO TALLER(ID_EQUIPO,ID_CLIENTE) VALUES
	(4,1);
    
insert INTO COLA(ID_EQUIPO,GUIA_COLA) values
	(4,'NS-000000001');
    
insert INTO INVENTARIO(ID_REPUESTON,ID_REPUESTOU,ID_PRODUCTO,ID_PRODUCTOU) VALUES
    (1,1,1,1);

INSERT INTO TIENDA(ID_TALLER,ID_INVENTARIO,ID_CLIENTE,ID_FACTURA) VALUES
	(4,1,1,1);

